{% extends 'base.html' %}

{% load static %}

{% block title %}
  
{% endblock title %}
  

{% block body %}
  

  
<body>
  
  <div class="container-fluid mtb15 no-fluid">
    <div class="row sm-gutters">
      <div class="col-md-12 mb15">
       
      </div>
      <div class="col-md-3">
        <div class="market-pairs">
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text" id="inputGroup-sizing-sm"><i class="icon ion-md-search"></i></span>
            </div>
            <input type="text" class="form-control" placeholder="Search" aria-describedby="inputGroup-sizing-sm">
          </div>
          <ul class="nav nav-pills" role="tablist">
            <li class="nav-item">
              <a class="nav-link" data-toggle="pill" href="#STAR" role="tab" aria-selected="true"><i
                  class="icon ion-md-star"></i></a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" data-toggle="pill" href="#BTC" role="tab" aria-selected="true">NSE</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-toggle="pill" href="#ETH" role="tab" aria-selected="false">BSE</a>
            </li>
          </ul>
          <div class="tab-content">
            <div class="tab-pane fade show" id="STAR" role="tabpanel">
              <table class="table">
                <thead>
                  <tr>
                    <th>Pairs</th>
                    <th>Last Price</th>
                    <th>Change</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><i class="icon ion-md-star"></i> ETH/BTC</td>
                    <td>0.00020255</td>
                    <td class="red">-2.58%</td>
                  </tr>
                  <tr>
                    <td><i class="icon ion-md-star"></i> KCS/BTC</td>
                    <td>0.00013192</td>
                    <td class="green">+5.6%</td>
                  </tr>
                  <tr>
                    <td><i class="icon ion-md-star"></i> XRP/BTC</td>
                    <td>0.00002996</td>
                    <td class="red">-1.55%</td>
                  </tr>
                  <tr>
                    <td><i class="icon ion-md-star"></i> VET/BTC</td>
                    <td>0.00000103</td>
                    <td class="green">+1.8%</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="tab-pane fade show active" id="BTC" role="tabpanel">
              <table class="table">
                <thead>
                  <tr>
                    <th>Symbol</th>
                    <th>Last Price</th>
                    <th>Change</th>
                  </tr>
                </thead>
                <tbody>
                
                  {% for i in stock_data %}
                    
                  
                    
                  <tr>
                    <!-- <i class="bi bi-bookmark"></i> -->
                    <td id="symbol_id"><i class="bi bi-bookmarks" ></i> {{i.symbol}}</td>
                    <td id="price_id">{{i.lastPrice}}</td>
                    <td class="red" id="pChange">{{i.pChange}}%</td>
                  </tr>

                  {% endfor %}
                
                  
                </tbody>
              </table>
            </div>
            

          </div>
        </div>
      </div>
      <div class="col-md-9">
        <div class="main-chart">
          <!-- TradingView Widget BEGIN -->
          <div class="tradingview-widget-container">
            <div id="tradingview_ac2f1"></div>
            <div class="tradingview-widget-copyright"><a href="https://in.tradingview.com/symbols/BSE-SENSEX/" rel="noopener" target="_blank"><span class="blue-text">SENSEX chart</span></a> by TradingView</div>
            <script src="{% static 'assets/js/tv.js' %}"></script>
            <script type="text/javascript">
            new TradingView.widget(
            {
             "width": "100%",
             "height": 550,
            "symbol": "BSE:SENSEX",
             "interval": "1",
            "timezone": "Asia/Kolkata",
            "theme": "light",
            "style": "3",
            "locale": "in",
            "toolbar_bg": "#f1f3f6",
            "enable_publishing": false,
            "allow_symbol_change": true,
            "popup_width": "1000",
            "popup_height": "650",
            "container_id": "tradingview_ac2f1"
          }
            );
            </script>
            <div class="market-trade mt15">
              
              <div class="tab-content">
                <div class="tab-pane fade show active" id="pills-trade-limit" role="tabpanel">
                  <div class="d-flex justify-content-between">
                    <div class="market-trade-buy">
                      <div class="input-group">
                        <button class="btn buy mt-1">Top Gainers</button>
                        <table class="table">
                          <thead>
                            <tr>
                              <th>Symbol</th>
                              <th>Last Price</th>
                              <th>Change</th>
                            </tr>
                          </thead>
                          <tbody>
                          
                             {% for gainer in top_gainers_data %}
                            <tr>
                              <td id="symbol_id">{{gainer.symbol}}</td>
                              <td id="price_id">{{gainer.lastPrice}}</td>
                              <td class="red" id="pChange">{{gainer.pChange}}%</td>
                            </tr>
          
                            {% endfor %}

                          
                            
                          </tbody>
                        </table>
                      </div>
                     
                      <!-- <button class="btn buy">Buy</button> -->
                    </div>
                    <div class="market-trade-sell">
                      <div class="input-group">
                        <button class="btn sell mt-1">Top Losser</button>
                        <table class="table">
                          <thead>
                            <tr>
                              <th>Symbol</th>
                              <th>Last Price</th>
                              <th>Change</th>
                            </tr>
                          </thead>
                          <tbody>
                          
                             {% for looser in top_losser_data %}
                            <tr>
                              <td id="symbol_id">{{looser.symbol}}</td>
                              <td id="price_id">{{looser.lastPrice}}</td>
                              <td class="red" id="pChange">{{looser.pChange}}%</td>
                            </tr>
          
                            {% endfor %}

                          
                            
                          </tbody>
                        </table>
                    </div>
                  </div>
                </div>
                
              </div>
            </div>
          </div>
          <!-- TradingView Widget END -->
        </div>
        <!-- TradingView Widget BEGIN -->
<!-- <div class="tradingview-widget-container">
  <div class="tradingview-widget-container__widget"></div>
  <div class="tradingview-widget-copyright"><a href="https://in.tradingview.com/markets/stocks-india/" rel="noopener" target="_blank"><span class="blue-text">Stocks today</span></a> by TradingView</div>
  <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-hotlists.js" async>
              {
  "colorTheme": "light",
  "dateRange": "3M",
  "exchange": "BSE",
  "showChart": true,
  "locale": "in",
  "largeChartUrl": "",
  "isTransparent": false,
  "showSymbolLogo": false,
  "showFloatingTooltip": false,
  "width": "100%",
  "height": "600",
  "plotLineColorGrowing": "rgba(41, 98, 255, 1)",
  "plotLineColorFalling": "rgba(41, 98, 255, 1)",
  "gridLineColor": "rgba(240, 243, 250, 0)",
  "scaleFontColor": "rgba(106, 109, 120, 1)",
  "belowLineFillColorGrowing": "rgba(41, 98, 255, 0.12)",
  "belowLineFillColorFalling": "rgba(41, 98, 255, 0.12)",
  "belowLineFillColorGrowingBottom": "rgba(41, 98, 255, 0)",
  "belowLineFillColorFallingBottom": "rgba(41, 98, 255, 0)",
  "symbolActiveColor": "rgba(41, 98, 255, 0.12)"
}
  </script>
</div> -->
<!-- TradingView Widget END -->
      </div>
      
    </div>
  </div>

  <script>
    $('tbody, .market-news ul').mCustomScrollbar({
      theme: 'minimal',
    });
  </script>
<!-- <script>
  function updateRandomStockData() {
    var xhr = new XMLHttpRequest();
    xhr.onreadystatechange = function() {
        if (xhr.readyState == 4 && xhr.status == 200) {
            var data = JSON.parse(xhr.responseText);
            for (var i = 0; i < data.length; i++) {
                // Update the stock symbol and price on the page
                var symbol_id = 'stock_symbol_' + (i + 1);
                var price_id = 'stock_price_' + (i + 1);
                document.getElementById(symbol_id).innerHTML = data[i].symbol;
                document.getElementById(price_id).innerHTML = data[i].price;
            }
        }
    };
    xhr.open('GET', '/get_stock/', true);
    xhr.send();
}

// Call the updateRandomStockData function every 10 seconds
setInterval(function() {
    updateRandomStockData();
}, 10000);

</script> -->
<!-- 
<script>
  $(function() {
      function updateStockData() {
          $.ajax({
              url: '/random_stock_data/',
              dataType: 'json',
              success: function(data) {
                  $('#stock-data').empty();
                  $.each(data, function(index, value) {
                      $('#stock-data').append('<tr><td>' + value.symbol + '</td><td>' + value.price + '</td></tr>');
                  });
              },
              complete: function() {
                  // Schedule the next update
                  setTimeout(updateStockData, 5000); // Update every 5 seconds
              }
          });
      }

      updateStockData(); // Start the update loop
  });
</script> -->

  
</body>
{% endblock body %}

<!-- Mirrored from crypo.netlify.app/exchange-light-live-price.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 24 Mar 2023 06:58:00 GMT -->
